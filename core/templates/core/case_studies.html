{% extends 'core/base.html' %}
{% load static %}

{% block title %}Case Studies | Hewor Agency{% endblock %}
{% block meta_description %}See how Hewor Agency has helped clients achieve success with professional thesis formatting
and PPT design services.{% endblock %}

{% block content %}
<div class="container py-5">
    <div class="row text-center mb-5" data-aos="fade-up">
        <div class="col-lg-8 mx-auto">
            <h1 class="display-4 fw-bold mb-3 premium-heading">Client <span class="text-gradient">Success Stories</span>
            </h1>
            <p class="lead text-muted">Real results for real clients. Discover how we help academicians and
                professionals stand out.</p>
        </div>
    </div>

    <!-- Case Study 1 -->
    <div class="glass-card mb-5 p-4" data-aos="fade-up">
        <div class="row align-items-center">
            <div class="col-md-5 mb-4 mb-md-0">
                <div class="rounded-4 overflow-hidden" style="height: 250px;">
                    <img src="{% static 'core/img/success_story_1.png' %}" alt="PhD Thesis Success"
                        class="w-100 h-100 object-fit-cover">
                </div>
            </div>
            <div class="col-md-7 ps-md-4">
                <span class="badge bg-primary mb-2">Thesis Formatting</span>
                <h3 class="fw-bold">PhD Thesis Acceptance - Delhi University</h3>
                <p class="text-muted mt-3">
                    <strong>Challenge:</strong> A PhD scholar was struggling with intricate APA citation rules and
                    complex table alignments just days before the submission deadline.
                </p>
                <p class="text-muted">
                    <strong>Solution:</strong> Our team restructured the entire document, automated the Table of
                    Contents, and corrected over 150+ citations within 48 hours.
                </p>
                <div class="d-flex align-items-center mt-4">
                    <div class="me-3">
                        <h4 class="fw-bold text-success mb-0">100%</h4>
                        <small>Compliance</small>
                    </div>
                    <div class="border-start ps-3">
                        <h4 class="fw-bold text-primary mb-0">48 Hrs</h4>
                        <small>Turnaround</small>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Case Study 2 -->
    <div class="glass-card mb-5 p-4" data-aos="fade-up" data-aos-delay="100">
        <div class="row align-items-center flex-md-row-reverse">
            <div class="col-md-5 mb-4 mb-md-0">
                <div class="rounded-4 overflow-hidden" style="height: 250px;">
                    <img src="{% static 'core/img/success_story_2.png' %}" alt="Conference Presentation Success"
                        class="w-100 h-100 object-fit-cover">
                </div>
            </div>
            <div class="col-md-7 pe-md-4">
                <span class="badge bg-danger mb-2">PPT Design</span>
                <h3 class="fw-bold">International Conference Presentation</h3>
                <p class="text-muted mt-3">
                    <strong>Challenge:</strong> A professor needed to present complex research data at an international
                    conference but had a text-heavy, uninspiring slide deck.
                </p>
                <p class="text-muted">
                    <strong>Solution:</strong> We redesigned the deck using modern infographics, clean typography, and
                    subtle animations to make the data digestible and engaging.
                </p>
                <div class="d-flex align-items-center mt-4">
                    <div class="me-3">
                        <h4 class="fw-bold text-success mb-0">High</h4>
                        <small>Engagement</small>
                    </div>
                    <div class="border-start ps-3">
                        <h4 class="fw-bold text-primary mb-0">20+</h4>
                        <small>Slides Designed</small>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Case Study 3 -->
    <div class="glass-card mb-5 p-4" data-aos="fade-up" data-aos-delay="150">
        <div class="row align-items-center">
            <div class="col-md-5 mb-4 mb-md-0">
                <div class="rounded-4 overflow-hidden" style="height: 250px;">
                    <img src="{% static 'core/img/success_story_3.png' %}" alt="Data Analysis Success"
                        class="w-100 h-100 object-fit-cover">
                </div>
            </div>
            <div class="col-md-7 ps-md-4">
                <span class="badge bg-info mb-2">Data Analysis</span>
                <h3 class="fw-bold">Complex Survey Data Organization</h3>
                <p class="text-muted mt-3">
                    <strong>Challenge:</strong> A research group had thousands of disorganized survey responses needed
                    for a Q1 journal publication.
                </p>
                <p class="text-muted">
                    <strong>Solution:</strong> We cleaned, categorized, and visualized the dataset, creating
                    publication-ready charts and tables.
                </p>
                <div class="d-flex align-items-center mt-4">
                    <div class="me-3">
                        <h4 class="fw-bold text-success mb-0">Zero</h4>
                        <small>Errors</small>
                    </div>
                    <div class="border-start ps-3">
                        <h4 class="fw-bold text-primary mb-0">Q1</h4>
                        <small>Journal Accepted</small>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Stats Section -->
    <div class="row g-4 mt-5" data-aos="fade-up" data-aos-delay="200">
        <div class="col-md-4">
            <div class="glass-card p-4 text-center hover-up">
                <h2 class="display-4 fw-bold text-primary counter-animate">34+</h2>
                <p class="text-muted">Projects Delivered</p>
            </div>
        </div>
        <div class="col-md-4">
            <div class="glass-card p-4 text-center hover-up">
                <h2 class="display-4 fw-bold text-secondary counter-animate">23+</h2>
                <p class="text-muted">Active Professors</p>
            </div>
        </div>
        <div class="col-md-4">
            <div class="glass-card p-4 text-center hover-up">
                <h2 class="display-4 fw-bold text-accent"> 24/7</h2>
                <p class="text-muted">Support Available</p>
            </div>
        </div>
    </div>

    <div class="text-center mt-5 pt-4">
        <a href="{% url 'signup' %}" class="btn btn-primary btn-lg">Start Your Success Story</a>
    </div>

</div>
<!-- GSAP Case Studies Page Animations -->
<script>
    document.addEventListener('DOMContentLoaded', () => {
        gsap.registerPlugin(ScrollTrigger);

        // 1. Header Animations
        gsap.from('h1.display-4', {
            duration: 1,
            y: 50,
            opacity: 0,
            delay: 0.2,
            ease: "power3.out"
        });

        gsap.from('.lead.text-muted', {
            duration: 1,
            y: 30,
            opacity: 0,
            delay: 0.4,
            ease: "power3.out"
        });

        // 2. Case Study Cards Reveal - Modified for visibility
        const cases = document.querySelectorAll('.glass-card.mb-5');
        cases.forEach((card, i) => {
            gsap.from(card, {
                scrollTrigger: {
                    trigger: card,
                    start: "top 90%", // Trigger earlier
                },
                duration: 1,
                y: 50, // Only animate Y, not X
                // REMOVED opacity: 0 to ensure visibility if animation fails
                ease: "power3.out"
            });
        });

        // 3. Stats Counter Animation
        const stats = document.querySelectorAll('.counter-animate'); // Targeting ONLY specific numbers
        stats.forEach(stat => {
            // Check if it's a stat number (simple heuristic: contains digit)
            if (/\d/.test(stat.innerText)) {
                let rawVal = stat.innerText.replace(/\D/g, ''); // Extract number
                let suffix = stat.innerText.replace(/[0-9]/g, ''); // Extract suffix (+, %)
                let targetVal = parseInt(rawVal);

                if (!isNaN(targetVal)) {
                    gsap.from(stat, {
                        scrollTrigger: {
                            trigger: stat,
                            start: "top 95%", // Trigger earlier
                        },
                        innerText: 0, // Animate FROM 0
                        duration: 2.5,
                        snap: { innerText: 1 },
                        onUpdate: function () {
                            this.targets()[0].innerText = Math.ceil(this.targets()[0].innerText) + suffix;
                        },
                        ease: "power2.out"
                    });
                }
            }
        });
    });
</script>
{% endblock %}